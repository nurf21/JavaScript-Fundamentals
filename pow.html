<!DOCTYPE html>
<script>
  'use strict';

  /**
   * Calculates the power of a number.
   * 
   * @param {number} x The base number.
   * @param {number} n The exponent.
   * @returns {number} The result of x to the power of n.
   */
  function pow(x, n) {
    if (n === 0) return 1;
    if (n < 0) return 1 / pow(x, -n);
    if (n % 2 === 0) return pow(x * x, n / 2);
    return x * pow(x * x, (n - 1) / 2);
  }

  function getNumber(promptMessage) {
    while (true) {
      const input = Number(prompt(promptMessage));
      if (!isNaN(input)) return input;
      alert("Please enter a valid number");
    }
  }

  function getInteger(promptMessage) {
    while (true) {
      const input = getNumber(promptMessage);
      if (Number.isInteger(input)) return input;
      alert("Please enter a valid integer");
    }
  }

  const x = getNumber("Enter the base (x):");
  const n = getInteger("Enter the exponent (n):");

  try {
    const result = pow(x, n);
    alert(`Result: ${result}`);
  } catch (error) {
    alert("An error occurred: " + error.message);
  }
</script>